*--------------------------------------------------*

*---------------Constraint Equations---------------*

neqns = 21 * Number of equality constraints to be satisfied

icc(1) = 1

icc(2) = 2

icc(3) = 5

icc(4) = 7

icc(5) = 8

icc(6) = 10

icc(7) = 11

icc(8) = 13

icc(9) = 15

icc(10) = 16

icc(11) = 24

icc(12) = 26

icc(13) = 27

icc(14) = 30

icc(15) = 31

icc(16) = 32

icc(17) = 33

icc(18) = 34

icc(19) = 35

icc(20) = 56

icc(21) = 61

*---------------Iteration Variables----------------*

nvar = 35 * Number of iteration variables to use

ixc(1) = 2 * bt

boundl(2) = 0.01

boundu(2) = 100.0

ixc(2) = 3 * rmajor

boundl(3) = 0.1

boundu(3) = 13.0

ixc(3) = 4 * te

boundl(4) = 5.0

boundu(4) = 150.0

ixc(4) = 5 * beta

boundl(5) = 0.001

boundu(5) = 1.0

ixc(5) = 6 * dene

boundl(6) = 7d+19

boundu(6) = 1d+21

ixc(6) = 7 * rnbeam

boundl(7) = 1d-06

boundu(7) = 1.0

ixc(7) = 9 * fdene

boundl(9) = 0.001

boundu(9) = 1.2

ixc(8) = 10 * hfact

boundl(10) = 0.1

boundu(10) = 1.1

ixc(9) = 12 * oacdcp

boundl(12) = 100000.0

boundu(12) = 150000000.0

ixc(10) = 13 * tfcth

boundl(13) = 0.5

boundu(13) = 5.0

ixc(11) = 14 * fwalld

boundl(14) = 0.001

boundu(14) = 1.0

ixc(12) = 16 * ohcth

boundl(16) = 0.1

boundu(16) = 100.0

ixc(13) = 18 * q

boundl(18) = 3.0

boundu(18) = 100.0

ixc(14) = 29 * bore

boundl(29) = 0.1

boundu(29) = 10.0

ixc(15) = 36 * fbetatry

boundl(36) = 0.001

boundu(36) = 1.0

ixc(16) = 37 * coheof

boundl(37) = 100000.0

boundu(37) = 100000000.0

ixc(17) = 38 * fjohc

boundl(38) = 0.01

boundu(38) = 0.25

ixc(18) = 39 * fjohc0

boundl(39) = 0.001

boundu(39) = 0.25

ixc(19) = 41 * fcohbop

boundl(41) = 0.001

boundu(41) = 1.0

ixc(20) = 42 * gapoh

boundl(42) = 0.05

boundu(42) = 0.1

ixc(21) = 44 * fvsbrnni

boundl(44) = 0.001

boundu(44) = 1.0

ixc(22) = 48 * fstrcase

boundl(48) = 0.001

boundu(48) = 1.0

ixc(23) = 49 * fstrcond

boundl(49) = 0.001

boundu(49) = 1.0

ixc(24) = 50 * fiooic

boundl(50) = 0.001

boundu(50) = 0.5

ixc(25) = 51 * fvdump

boundl(51) = 0.001

boundu(51) = 1.0

ixc(26) = 53 * fjprot

boundl(53) = 0.001

boundu(53) = 1.0

ixc(27) = 56 * tdmptf

boundl(56) = 10.0

boundu(56) = 1000000.0

ixc(28) = 57 * thkcas

boundl(57) = 0.05

boundu(57) = 1.0

ixc(29) = 58 * thwcndut

boundl(58) = 0.004

boundu(58) = 1.0

ixc(30) = 59 * fcutfsu

boundl(59) = 0.001

boundu(59) = 1.0

ixc(31) = 61 * gapds

boundl(61) = 0.12

boundu(61) = 10.0

ixc(32) = 97 * fpsepr

boundl(97) = 0.001

boundu(97) = 1.0

ixc(33) = 102 * fimpvar

boundl(102) = 1d-06

boundu(102) = 0.01

ixc(34) = 103 * flhthresh

boundl(103) = 1.0

boundu(103) = 1000000.0

ixc(35) = 107 * favail

boundl(107) = 0.001

boundu(107) = 1.0

*-----------------Build Variables------------------*

blnkith  = 0.755 * Inboard blanket thickness (m);

blnkoth  = 1.275 * Outboard blanket thickness (m);

bore     = 2.328 * Central solenoid inboard radius (m)

ddwex    = 0.15 * External cryostat thickness (m)

ddwi     = 0.32 * Vacuum vessel thickness (tf coil / shield) (m)

fwith    = 0.025 * Inboard first wall thickness; initial estimate (m)

fwoth    = 0.025 * Outboard first wall thickness; initial estimate (m)

gapds    = 0.12 * Gap between inboard vacuum vessel and tf coil (m)

gapoh    = 0.05 * Gap between central solenoid and tf coil

gapomin  = 0.2 * Minimum gap between outboard vacuum vessel and tf coil (m)

ohcth    = 0.7989 * Central solenoid thickness (m)

scrapli  = 0.225 * Gap between plasma and first wall; inboard side (m)

scraplo  = 0.225 * Gap between plasma and first wall; outboard side (m)

shldith  = 0.3 * Inboard shield thickness (m)

shldoth  = 0.8 * Outboard shield thickness (m)

shldtth  = 0.3 * Upper/lower shield thickness (m);

tfcth    = 0.7389 * Inboard tf coil thickness; (centrepost for st) (m)

vgap2    = 0.12 * Vertical gap between vacuum vessel and tf coil (m)

vgaptf   = 1.6 * Vertical gap between x-point and divertor (m)

*---------------Buildings Variables----------------*

*---------------Constraint Variables---------------*

bmxlim   = 14.0 * Maximum peak toroidal field (t)

fbetatry = 0.5347 * F-value for beta limit

fdene    = 1.2 * F-value for density limit

fhldiv   = 2.0 * F-value for divertor heat load

fiooic   = 0.5 * F-value for tf coil operating current / critical

fjohc    = 0.25 * F-value for central solenoid current at end-of-flattop

fjohc0   = 0.25 * F-value for central solenoid current at beginning of pulse

fjprot   = 1.0 * F-value for tf coil winding pack current density

flhthresh = 1.378 * F-value for l-h power threshold

fpeakb   = 0.9229 * F-value for maximum toroidal field

fpsepr   = 1.0 * F-value for maximum psep/r limit

fstrcase = 1.0 * F-value for tf coil case stress

fstrcond = 0.8472 * F-value for tf coil conduit stress

fvdump   = 0.7684 * F-value for dump voltage

fwalld   = 0.1196 * F-value for minimum wall load

pnetelin = 500.0 * Required net electric power (mw)

pseprmax = 17.0 * Maximum ratio of power crossing the separatrix to

tbrnmn   = 7200.0 * Minimum burn time (s)

walalw   = 8.0 * Allowable wall-load (mw/m2)

*------------------Cost Variables------------------*

abktflnc = 10.0 * Allowable first wall/blanket neutron

adivflnc = 20.0 * Allowable divertor heat fluence (mw-yr/m2)

cfactr   = 0.6 * Total plant capacity factor

cfactr   = 0.6 * Total plant capacity factor

avail_min = 0.5 * Minimum availability (constraint equation 61)

favail   = 0.9367 * F-value for minimum availability (constraint equation 61)

fwbs_nref = 30000 * Reference value for cycle life of blanket

fwbs_nu  = 60000 * The cycle when the blanket fails with 100% probability

tlife    = 40.0 * Plant life (years)

*-------------Current Drive Variables--------------*

bscfmax  = 0.99 * Maximum fraction of plasma current from bootstrap;

etanbi   = 0.4 * Neutral beam wall plug to injector efficiency

frbeam   = 1.0 * R_tangential / r_major for neutral beam injection

pinjalw  = 50.0 * Maximum allowable value for injected power (mw)

*----------------Divertor Variables----------------*

anginc   = 0.175 * Angle of incidence of field line on plate (rad)

divdum   = 1 * Switch for divertor zeff model; 0=calc; 1=input

divfix   = 0.621 * Divertor structure vertical thickness (m)

hldivlim = 10.0 * Heat load limit (mw/m2)

ksic     = 1.4 * Power fraction for outboard double-null scrape-off plasma

prn1     = 0.4 * N-scrape-off / n-average plasma;

zeffdiv  = 3.5 * Zeff in the divertor region (if divdum /= 0)

*------------------Fwbs Variables------------------*

fhole    = 0.05 * Area fraction taken up by other holes (not used)

fblbe    = 0.47 * Beryllium fraction of blanket by volume

secondary_cycle = 3 * Switch for thermodynamic model of power conversion cycle;

tfwmatmax = 1100.0 * Maximum temperature of first wall material (k) (secondary_cycle>1)

fwclfr   = 0.1 * First wall coolant fraction

vfshld   = 0.6 * Coolant void fraction in shield

fblli2o  = 0.07 * Lithium oxide fraction of blanket by volume

fbllipb  = 0.0 * Lithium lead fraction of blanket by volume

vfblkt   = 0.1 * Coolant void fraction in blanket (blktmodel=0);

*-----------------Global Variables-----------------*

runtitle = test file for new cost model * Short descriptive title for the run

*-------------Heat Transport Variables-------------*

etath    = 0.375 * Thermal to electric conversion efficiency; input if ipowerflow=0

fauxbop  = 0.032 * Fraction of gross electric power to balance-of-plant

ffwlg    = 0.01 * Fraction of first wall / divertor power to low grade heat

fpumpblkt = 0.042 * Fraction of total blanket thermal power required

fpumpdiv = 0.042 * Fraction of total divertor thermal power required

fpumpfw  = 0.042 * Fraction of total first wall thermal power required

fpumpshld = 0.042 * Fraction of total shield thermal power required

htpmw    = 155.0 * Heat transport system electrical pump power (mw)

ipowerflow = 0 * Switch for power flow model;

*------------------Ife Variables-------------------*

*------------Impurity Radiation Module-------------*

coreradius = 0.6 * Normalised radius defining the 'core' region

fimp(1) = 1.0

fimp(2) = 0.1

fimp(3) = 0.0

fimp(4) = 0.0

fimp(5) = 0.0

fimp(6) = 0.0

fimp(7) = 0.0

fimp(8) = 0.0

fimp(9) = 0.0

fimp(10) = 0.0

fimp(11) = 0.0

fimp(12) = 0.0

fimp(13) = 0.00044

fimp(14) = 5e-05

fimpvar  = 0.0002439 * Impurity fraction to be used as fimp(impvar)

impvar   = 13 * Fimp element value to be varied if iteration

*---------------------Numerics---------------------*

ioptimz  = 1 * Code operation switch;

minmax   = 7 * Switch for figure-of-merit (see lablmm for descriptions)

epsvmc   = 1e-08 * Error tolerance for vmcon

*----------------Pf Power Variables----------------*

*-----------------Pfcoil Variables-----------------*

coheof   = 13860000.0 * Central solenoid overall current density at end of flat-top (a/m2)

cptdin   = 42200.0, 42200.0, 42200.0, 42200.0, 43000.0, 43000.0, 43000.0, 43000.0 * Peak current per turn input for pf coil i (a)

fcohbop  = 0.9361 * Ratio of central solenoid overall current density at

ipfloc   = 2, 2, 3, 3 * Switch for locating scheme of pf coil group i;

isumatpf = 3 * Switch for superconductor material in pf coils;

ncls     = 1, 1, 2, 2 * Number of pf coils in group j

ngrp     = 4 * Number of groups of pf coils;

ohhghf   = 0.9 * Central solenoid height / tf coil internal height

rjconpf  = 11000000.0, 11000000.0, 6000000.0, 6000000.0, 8000000.0, 8000000.0, 8000000.0, 8000000.0 * Average winding pack current density of pf coil i (a/m2)

rpf2     = -1.825 * Offset (m) of radial position of ipfloc=2 pf coils

sigpfalw = 300.0 * Allowable stress in pf coils/central solenoid (mpa)

zref(1) = 3.6

zref(2) = 1.2

zref(3) = 1.0

zref(4) = 2.8

zref(5) = 1.0

zref(6) = 1.0

zref(7) = 1.0

zref(8) = 1.0

*----------------Physics Variables-----------------*

alphaj   = 2.0 * Current profile index;

alphan   = 1.0 * Density profile index

alphat   = 1.0 * Temperature profile index

aspect   = 3.1 * Aspect ratio (iteration variable 1)

beta     = 0.03476 * Total plasma beta (iteration variable 5)

bt       = 5.196 * Toroidal field on axis (t) (iteration variable 2)

dene     = 8.459e+19 * Electron density (/m3) (iteration variable 6)

dnbeta   = 3.0 * (troyon-like) coefficient for beta scaling;

fkzohm   = 1.0245 * Zohm elongation scaling adjustment factor (ishape=2; 3)

fvsbrnni = 0.4643 * Fraction of the plasma current produced by

gamma    = 0.3 * Ejima coefficient for resistive startup v-s formula

hfact    = 1.1 * H factor on energy confinement times (iteration variable 10)

ibss     = 4 * Switch for bootstrap current scaling;

iculbl   = 1 * Switch for beta limit scaling (constraint equation 24);

impc     = 0.0 * Carbon impurity multiplier (imprad_model=0 only)

impo     = 0.0 * Oxygen impurity multiplier (imprad_model=0 only)

neped    = 6.78e+19 * Electron density of pedestal (/m3) (ipedestal=1)

nesep    = 2e+19 * Electron density at separatrix (/m3) (ipedestal=1)

rhopedn  = 0.94 * R/a of density pedestal (ipedestal=1)

rhopedt  = 0.94 * R/a of temperature pedestal (ipedestal=1)

teped    = 5.5 * Electron temperature of pedestal (kev) (ipedestal=1)

tesep    = 0.1 * Electron temperature at separatrix (kev) (ipedestal=1)

ishape   = 2 * Switch for plasma cross-sectional shape calculation;

kappa    = 1.7 * Plasma separatrix elongation (calculated if ishape > 0)

q        = 3.0 * Safety factor 'near' plasma edge (iteration variable 18):

tauratio = 5.0 * Ratio of he and pellet particle confinement times

rmajor   = 8.356 * Plasma major radius (m) (iteration variable 3)

rnbeam   = 0.001642 * Hot beam density / n_e (iteration variable 7)

te       = 11.85 * Volume averaged electron temperature (kev)

triang   = 0.5 * Plasma separatrix triangularity (calculated if ishape=1; 3 or 4)

zfear    = 1 * High-z impurity switch; 0=iron; 1=argon

*-----------------Pulse Variables------------------*

lpulse   = 1 * Switch for reactor model;

*------------------Rfp Variables-------------------*

*-------------------Scan Module--------------------*

isweep   = 1 * Number of scan points to calculate

nsweep   = 3 * Switch denoting quantity to scan;

sweep    = 500.0, 550.0, 600.0, 650.0, 700.0, 750.0, 800.0, 850.0, 900.0, 950.0, 1000.0, 1050.0, 1100.0 * Actual values to use in scan

*--------------Stellarator Variables---------------*

*-----------------Tfcoil Variables-----------------*

casths   = 0.05 * Inboard tf coil sidewall case thickness (m)

cpttf    = 65000.0 * Tf coil current per turn (a)

csytf    = 990000000.0 * Yield strength of case (tf coils and cs coils) (pa)

fcutfsu  = 0.6402 * Copper fraction of cable conductor (tf coils)

oacdcp   = 13190000.0 * Overall current density in tf coil inboard legs (a/m2)

ripmax   = 0.6 * Maximum allowable toroidal field ripple amplitude

tdmptf   = 10.0 * Dump time for tf coil (s)

tfno     = 18.0 * Number of tf coils (default = 50 for stellarators)

tftmp    = 4.75 * Peak helium coolant temperature in tf coils and pf coils (k)

thicndut = 0.001 * Conduit insulation thickness (m)

thkcas   = 0.387 * Inboard tf coil case outer (non-plasma side) thickness (m)

thwcndut = 0.004 * Tf coil conduit case thickness (m)

tmargmin = 1.7 * Minimum allowable temperature margin (cs and tf coils) (k)

vftf     = 0.333 * Coolant fraction of tf coil leg (itfsup=0)

*-----------------Times Variables------------------*

tburn    = 10000.0 * Burn time (s) (calculated if lpulse=1)

tdwell   = 600.0 * Time between pulses in a pulsed reactor (s)

*-----------------Vacuum Variables-----------------*

