*****DEMO2
*****Revised to run under new release r389.
*****M Kovari 1/5/15
*****

*--------------------------------------------------*

*---------------Constraint Equations---------------*
neqns = 19       
icc(1) = 1        * beta (consistency equation)
icc(2) = 2        * global power balance (consistency equation)
icc(3) = 5        * density upper limit
icc(4) = 7        * beam ion density (nbi) (consistency equation)
icc(5) = 8        * neutron wall load upper limit
icc(6) = 10       * toroidal field 1/r (consistency equation)
icc(7) = 11       * radial build (consistency equation)
icc(8) = 12       * volt second lower limit
icc(9) = 15       * l-h power threshold limit
icc(10) = 24      * beta upper limit
icc(11) = 26      * central solenoid eof current density upper limit
icc(12) = 27      * central solenoid bop current density upper limit
icc(13) = 31      * tf coil case stress upper limit (sctf)
icc(14) = 32      * tf coil conduit stress upper limit (sctf)
icc(15) = 33      * i_op / i_critical (tf coil) (sctf)
icc(16) = 34      * dump voltage upper limit (sctf)
icc(17) = 35      * j_winding pack/j_protection upper limit (sctf)
icc(18) = 36      * tf coil temperature margin lower limit (sctf)
icc(19) = 56      * pseparatrix/rmajor upper limit

*---------------Iteration Variables----------------*
nvar = 32        
ixc(1) = 2        * bt * Toroidal field on axis (t) (iteration variable 2)
boundl(2) = 0.01  
boundu(2) = 7.0  

ixc(2) = 4        * te * Volume averaged electron temperature (kev)
boundl(4) = 5.0  
boundu(4) = 150.0  

ixc(3) = 5        * beta * Total plasma beta (iteration variable 5)
boundl(5) = 0.001  
boundu(5) = 1.0  

ixc(4) = 6        * dene * Electron density (/m3) (iteration variable 6)
boundl(6) = 1e+19  
boundu(6) = 1e+21  

ixc(5) = 7        * rnbeam * Hot beam density / n_e (iteration variable 7)
boundl(7) = 1e-06  
boundu(7) = 1.0  

ixc(6) = 9        * fdene * F-value for density limit
boundl(9) = 0.001  
boundu(9) = 1.2  

ixc(7) = 10       * hfact * H factor on energy confinement times (iteration variable 10)
boundl(10) = 0.1  
boundu(10) = 1.4  

ixc(8) = 12       * oacdcp * Overall current density in tf coil inboard legs (a/m2)
boundl(12) = 100000.0  
boundu(12) = 150000000.0  

ixc(9) = 13       * tfcth * Inboard tf coil thickness; (centrepost for st) (m)
boundl(13) = 1.0  
boundu(13) = 5.0  

ixc(10) = 14      * fwalld * F-value for minimum wall load
boundl(14) = 0.001  
boundu(14) = 1.0  

ixc(11) = 16      * ohcth * Central solenoid thickness (m)
boundl(16) = 0.5  
boundu(16) = 100.0  

ixc(12) = 18      * q * Safety factor 'near' plasma edge (iteration variable 18)
boundl(18) = 3.5  
boundu(18) = 100.0  

ixc(13) = 29      * bore * Central solenoid inboard radius (m)
boundl(29) = 0.1  
boundu(29) = 10.0  

ixc(14) = 36      * fbetatry * F-value for beta limit
boundl(36) = 0.001  
boundu(36) = 1.0  

ixc(15) = 37      * coheof * Central solenoid overall current density at end of flat-top (a/m2)
boundl(37) = 100000.0  
boundu(37) = 100000000.0  

ixc(16) = 38      * fjohc * F-value for central solenoid current at end-of-flattop
boundl(38) = 0.01  
boundu(38) = 0.25  

ixc(17) = 39      * fjohc0 * F-value for central solenoid current at beginning of pulse
boundl(39) = 0.001  
boundu(39) = 0.25  

ixc(18) = 41      * fcohbop * Ratio of central solenoid overall current density at
boundl(41) = 0.001  
boundu(41) = 1.0  

ixc(19) = 44      * fvsbrnni * Fraction of the plasma current produced by
boundl(44) = 0.001  
boundu(44) = 1.0  

ixc(20) = 48      * fstrcase * F-value for tf coil case stress
boundl(48) = 0.001  
boundu(48) = 1.0  

ixc(21) = 49      * fstrcond * F-value for tf coil conduit stress
boundl(49) = 0.001  
boundu(49) = 1.0  

ixc(22) = 50      * fiooic * F-value for tf coil operating current / critical
boundl(50) = 0.001  
boundu(50) = 0.5  

ixc(23) = 51      * fvdump * F-value for dump voltage
boundl(51) = 0.001  
boundu(51) = 0.5  

ixc(24) = 53      * fjprot * F-value for tf coil winding pack current density
boundl(53) = 0.001  
boundu(53) = 1.0  

ixc(25) = 54      * ftmargtf * F-value for tf coil temperature margin
boundl(54) = 0.001  
boundu(54) = 1.0  

ixc(26) = 56      * tdmptf * Dump time for tf coil (s)
boundl(56) = 10.0  
boundu(56) = 1000000.0  

ixc(27) = 57      * thkcas * Inboard tf coil case outer (non-plasma side) thickness (m)
boundl(57) = 0.05  
boundu(57) = 1.0  

ixc(28) = 58      * thwcndut * Tf coil conduit case thickness (m)
boundl(58) = 0.004  
boundu(58) = 1.0  

ixc(29) = 59      * fcutfsu * Copper fraction of cable conductor (tf coils)
boundl(59) = 0.001  
boundu(59) = 1.0  

ixc(30) = 60      * cpttf * Tf coil current per turn (a)
boundl(60) = 60000.0  
boundu(60) = 65000.0  

ixc(31) = 102     * fimpvar * Impurity fraction to be used as fimp(impvar)
boundl(102) = 1e-06  
boundu(102) = 0.01  

ixc(32) = 103     * flhthresh * F-value for l-h power threshold
boundl(103) = 1.0  
boundu(103) = 1000000.0  

*-----------------Build Variables------------------*
blnkith = 0.755  * Inboard blanket thickness (m);
blnkoth = 1.275  * Outboard blanket thickness (m);
bore = 1.0135    * Central solenoid inboard radius (m)
ddwex = 0.15     * External cryostat thickness (m)
ddwi = 0.35      * Vacuum vessel thickness (tf coil / shield) (m)
fwith = 0.025    * Inboard first wall thickness; initial estimate (m)
fwoth = 0.025    * Outboard first wall thickness; initial estimate (m)
gapds = 0.12     * Gap between inboard vacuum vessel and tf coil (m)
gapoh = 0.05     * Gap between central solenoid and tf coil
gapomin = 0.5    * Minimum gap between outboard vacuum vessel and tf coil (m)
ohcth = 0.5      * Central solenoid thickness (m)
scrapli = 0.25   * Gap between plasma and first wall; inboard side (m)
scraplo = 0.25   * Gap between plasma and first wall; outboard side (m)
shldith = 0.27   * Inboard shield thickness (m)
shldoth = 0.67   * Outboard shield thickness (m)
shldtth = 0.27   * Upper/lower shield thickness (m);
tfcth = 1.2819   * Inboard tf coil thickness; (centrepost for st) (m)
vgap2 = 0.12     * Vertical gap between vacuum vessel and tf coil (m)
vgaptf = 0.4     * Vertical gap between x-point and divertor (m)


*---------------Buildings Variables----------------*


*---------------Constraint Variables---------------*
bmxlim = 13.0    * Maximum peak toroidal field (t)
fdene = 1.2      * F-value for density limit
fhldiv = 2.0     * F-value for divertor heat load
fjohc = 0.25     * F-value for central solenoid current at end-of-flattop
fjohc0 = 0.25    * F-value for central solenoid current at beginning of pulse
flhthresh = 1.4784  * F-value for l-h power threshold
ftmargtf = 0.90438  * F-value for tf coil temperature margin
fvdump = 0.5     * F-value for dump voltage
fwalld = 0.1876  * F-value for minimum wall load
pnetelin = 750.0  * Required net electric power (mw)
pseprmax = 20.0  * Maximum ratio of power crossing the separatrix to
tbrnmn = 17600.0  * Minimum burn time (s)
walalw = 8.0     * Allowable wall-load (mw/m2)


*------------------Cost Variables------------------*
abktflnc = 15.0  * Allowable first wall/blanket neutron
adivflnc = 20.0  * Allowable divertor heat fluence (mw-yr/m2)
fcap0 = 1.15     * Average cost of money for construction of plant
fcap0cp = 1.06   * Average cost of money for replaceable components
fcontng = 0.15   * Project contingency factor
fcr0 = 0.065     * Fixed charge rate during construction
ifueltyp = 1     * Switch * treat blanket divertor; first wall and
lsa = 2          * Level of safety assurance switch
ratecdol = 0.06  * Effective cost of money in constant dollars
tlife = 40.0     * Plant life (years)
ucblvd = 280.0   * Unit cost for blanket vanadium ($/kg)
ucdiv = 500000.0  * Cost of divertor blade ($)
ucme = 300000000.0  * Unit cost of maintenance equipment ($/w**0;3)


*-------------Current Drive Variables--------------*
bscfmax = 0.99   * Maximum fraction of plasma current from bootstrap;
cboot = 0.8      * Bootstrap current fraction multiplier (ibss=1)
enbeam = 1500.0  * Neutral beam energy (kev) (iteration variable 19)
etanbi = 0.5     * Neutral beam wall plug to injector efficiency
frbeam = 1.0     * R_tangential / r_major for neutral beam injection
pinjalw = 200.0  * Maximum allowable value for injected power (mw)


*----------------Divertor Variables----------------*
anginc = 0.175   * Angle of incidence of field line on plate (rad)
divdum = 1       * Switch for divertor zeff model* 0=calc; 1=input
divfix = 1.821   * Divertor structure vertical thickness (m)
hldivlim = 10.0  * Heat load limit (mw/m2)
ksic = 1.4       * Power fraction for outboard double-null scrape-off plasma
prn1 = 0.4       * N-scrape-off / n-average plasma;
zeffdiv = 3.5    * Zeff in the divertor region (if divdum /= 0)


*------------------Fwbs Variables------------------*
fblbe = 0.47     * Beryllium fraction of blanket by volume
secondary_cycle = 1  * Switch for thermodynamic model of power conversion cycle * set efficiency for chosen blanket used (divertor to primary loop);
fwclfr = 0.1     * First wall coolant fraction
vfshld = 0.6     * Coolant void fraction in shield
fblli2o = 0.07   * Lithium oxide fraction of blanket by volume
fbllipb = 0.0    * Lithium lead fraction of blanket by volume
vfblkt = 0.1     * Coolant void fraction in blanket (blktmodel=0);
secondary_cycle = 3  * Switch for thermodynamic model of power conversion cycle * (steam Rankine cycle)
tfwmatmax = 1100 * Allowable temp of first wall material
abktflnc = 5.0  * Allowable first wall/blanket neutron fluence

*-----------------Global Variables-----------------*


*-------------Heat Transport Variables-------------*
etath = 0.45     * Thermal to electric conversion efficiency; input if ipowerflow=0
fauxbop = 0.032  * Fraction of gross electric power to balance-of-plant
ffwlg = 0.01     * Fraction of first wall / divertor power to low grade heat
fpumpblkt = 0.042  * Fraction of total blanket thermal power required
fpumpdiv = 0.042  * Fraction of total divertor thermal power required
fpumpfw = 0.042  * Fraction of total first wall thermal power required
fpumpshld = 0.042  * Fraction of total shield thermal power required
htpmw = 150.0    * Heat transport system electrical pump power (mw)
ipowerflow = 0   * Switch for power flow model * pre-2014 version;


*------------------Ife Variables-------------------*


*------------Impurity Radiation Module-------------*
coreradius = 0.6  * Normalised radius defining the 'core' region
fimp = 1.0, 0.1, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00032, 0.0001  * Impurity number density fractions relative to electron density
fimpvar = 0.0005886  * Impurity fraction to be used as fimp(impvar)
impvar = 13      * Fimp element value to be varied if iteration


*---------------------Numerics---------------------*
ioptimz = 1      * Code operation switch * for no optimisation; hybrd only;
minmax = -5      * Switch for figure-of-merit * fusion gain q
epsvmc = 1e-08   * Error tolerance for vmcon


*----------------Pf Power Variables----------------*


*-----------------Pfcoil Variables-----------------*
coheof = 20131000.0  * Central solenoid overall current density at end of flat-top (a/m2)
cptdin = 42200.0, 42200.0, 43000.0, 43000.0, 43000.0, 43000.0, 39000.0  * Peak current per turn input for pf coil i (a)
fcohbop = 0.9454  * Ratio of central solenoid overall current density at
ipfloc = 2, 2, 3, 3  * Switch for locating scheme of pf coil group i
ncls = 1, 1, 2, 2  * Number of pf coils in group j
ngrp = 4         * Number of groups of pf coils;
rjconpf = 11000000.0, 11000000.0, 11000000.0, 11000000.0, 11000000.0, 11000000.0  * Average winding pack current density of pf coil i (a/m2)
rpf2 = -1.825    * Offset (m) of radial position of ipfloc=2 pf coils
sigpfalw = 300.0  * Allowable stress in pf coils/central solenoid (mpa)
zref = 3.6, 1.2, 1.0, 2.8, 1.0, 1.0, 1.0, 1.0  * Pf coil vertical positioning adjuster


*----------------Physics Variables-----------------*
alphaj = 0.933   * Current profile index;
alphan = 1.0     * Density profile index
alphat = 1.0     * Temperature profile index
aspect = 2.6     * Aspect ratio (iteration variable 1)
beta = 0.04875   * Total plasma beta (iteration variable 5)
bt = 5.2754      * Toroidal field on axis (t) (iteration variable 2)
dene = 8.4991e+19  * Electron density (/m3) (iteration variable 6)
dnbeta = 3.8     * (troyon-like) coefficient for beta scaling;
hfact = 1.4      * H factor on energy confinement times (iteration variable 10)
ibss = 4         * Switch for bootstrap current scaling * for sauter et al scaling
impc = 0.0001    * Carbon impurity multiplier (imprad_model=0 only)
impo = 0.0001    * Oxygen impurity multiplier (imprad_model=0 only)
neped = 6.35e+19  * Electron density of pedestal (/m3) (ipedestal=1)
nesep = 3e+19    * Electron density at separatrix (/m3) (ipedestal=1)
rhopedn = 0.94   * R/a of density pedestal (ipedestal=1)
rhopedt = 0.94   * R/a of temperature pedestal (ipedestal=1)
teped = 5.5      * Electron temperature of pedestal (kev) (ipedestal=1)
tesep = 0.1      * Electron temperature at separatrix (kev) (ipedestal=1)
iprofile = 0     * Switch for current profile consistency * use input values for alphaj; rli; dnbeta
kappa = 2.0163   * Plasma separatrix elongation (calculated if ishape > 0)
q = 4.5751       * Safety factor 'near' plasma edge (iteration variable 18)
q0 = 1.5         * Safety factor on axis
rmajor = 7.5     * Plasma major radius (m) (iteration variable 3)
rnbeam = 0.003669  * Hot beam density / n_e (iteration variable 7)
te = 16.364      * Volume averaged electron temperature (kev)
triang = 0.5     * Plasma separatrix triangularity (calculated if ishape=1; 3 or 4)


*-----------------Pulse Variables------------------*


*------------------Rfp Variables-------------------*


*-------------------Scan Module--------------------*
sweep = 2.6, 2.6, 2.6  * Actual values to use in scan


*--------------Stellarator Variables---------------*


*-----------------Tfcoil Variables-----------------*
casths = 0.05    * Inboard tf coil sidewall case thickness (m)
cpttf = 65000.0  * Tf coil current per turn (a)
csytf = 990000000.0  * Yield strength of case (tf coils and cs coils) (pa)
fcutfsu = 0.59439  * Copper fraction of cable conductor (tf coils)
oacdcp = 11142000.0  * Overall current density in tf coil inboard legs (a/m2)
ripmax = 0.6     * Maximum allowable toroidal field ripple amplitude
tdmptf = 19.545  * Dump time for tf coil (s)
tfno = 18.0      * Number of tf coils (default = 50 for stellarators)
tftmp = 4.75     * Peak helium coolant temperature in tf coils and pf coils (k)
thicndut = 0.002  * Conduit insulation thickness (m)
thkcas = 0.48823  * Inboard tf coil case outer (non-plasma side) thickness (m)
thwcndut = 0.005753  * Tf coil conduit case thickness (m)
tmargmin = 1.7   * Minimum allowable temperature margin (cs and tf coils) (k)
vftf = 0.3       * Coolant fraction of tf coil leg (itfsup=0)


*-----------------Times Variables------------------*
tburn = 1000000.0  * Burn time (s) (calculated if lpulse=1)


*-----------------Vacuum Variables-----------------*


