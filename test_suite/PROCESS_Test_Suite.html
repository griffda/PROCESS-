<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PROCESS Test Suite</title>
<link rel="stylesheet" href="https://stackedit.io/res-min/themes/default.css" />
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body><div class="container"><h1 id="process-test-suite">PROCESS Test Suite</h1>

<p>James Morris<a href="#fn:myemail" id="fnref:myemail" title="See footnote" class="footnote">1</a> <br>
02/12/15 <br>
CCFE</p>

<hr>



<h2 id="code-summary">Code Summary</h2>

<blockquote>
  <p>The PROCESS test suite allows PROCESS developers to quickly test new modifications to PROCESS using a defined library of reference cases. The test suite is bundled with PROCESS and is a single Python script (<strong>test_suite.py</strong>) with a number of options.</p>
  
  <p>The test suite will provide the following output</p>
  
  <ul>
  <li>Summary to terminal and file (<strong>summary.log</strong>)</li>
  <li>PROCESS terminal output log to file for each test case (<strong>run.log</strong>)</li>
  <li>PROCESS error log to terminal and to file if errors for each test case (<strong>error.log</strong>)</li>
  <li>New MFILE.DATs and OUT.DATs for each test case (<strong>new.MFILE.DAT</strong> and <strong>new.OUT.DAT</strong>)</li>
  </ul>
</blockquote>



<h2 id="test-suite-operation">Test Suite Operation</h2>



<div class="sequence-diagram"><svg style="overflow: hidden; position: relative; left: -0.5px; top: 0.18335px;" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="479.5" version="1.1" height="655"><desc>Created with Raphaël 2.1.2</desc><defs><path id="raphael-marker-block" d="M5,0 0,2.5 5,5z" stroke-linecap="round"></path><marker refY="2.5" refX="2.5" orient="auto" markerWidth="5" markerHeight="5" id="raphael-marker-endblock55-obj607"><use stroke="none" fill="#000" stroke-width="1.0000" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"></use></marker><marker refY="2.5" refX="2.5" orient="auto" markerWidth="5" markerHeight="5" id="raphael-marker-endblock55-obj610"><use stroke="none" fill="#000" stroke-width="1.0000" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"></use></marker><marker refY="2.5" refX="2.5" orient="auto" markerWidth="5" markerHeight="5" id="raphael-marker-endblock55-obj613"><use stroke="none" fill="#000" stroke-width="1.0000" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"></use></marker><marker refY="2.5" refX="2.5" orient="auto" markerWidth="5" markerHeight="5" id="raphael-marker-endblock55-obj616"><use stroke="none" fill="#000" stroke-width="1.0000" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"></use></marker><marker refY="2.5" refX="2.5" orient="auto" markerWidth="5" markerHeight="5" id="raphael-marker-endblock55-obj619"><use stroke="none" fill="#000" stroke-width="1.0000" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"></use></marker><marker refY="2.5" refX="2.5" orient="auto" markerWidth="5" markerHeight="5" id="raphael-marker-endblock55-obj622"><use stroke="none" fill="#000" stroke-width="1.0000" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"></use></marker><marker refY="2.5" refX="2.5" orient="auto" markerWidth="5" markerHeight="5" id="raphael-marker-endblock55-obj625"><use stroke="none" fill="#000" stroke-width="1.0000" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"></use></marker><marker refY="2.5" refX="2.5" orient="auto" markerWidth="5" markerHeight="5" id="raphael-marker-endblock55-obj628"><use stroke="none" fill="#000" stroke-width="1.0000" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"></use></marker><marker refY="2.5" refX="2.5" orient="auto" markerWidth="5" markerHeight="5" id="raphael-marker-endblock55-obj631"><use stroke="none" fill="#000" stroke-width="1.0000" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"></use></marker><marker refY="2.5" refX="2.5" orient="auto" markerWidth="5" markerHeight="5" id="raphael-marker-endblock55-obj634"><use stroke="none" fill="#000" stroke-width="1.0000" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"></use></marker><marker refY="2.5" refX="2.5" orient="auto" markerWidth="5" markerHeight="5" id="raphael-marker-endblock55-obj637"><use stroke="none" fill="#000" stroke-width="1.0000" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"></use></marker><marker refY="2.5" refX="2.5" orient="auto" markerWidth="5" markerHeight="5" id="raphael-marker-endblock55-obj643"><use stroke="none" fill="#000" stroke-width="1.0000" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"></use></marker></defs><rect stroke-width="2" style="" stroke="#000000" fill="none" ry="0" rx="0" height="39" width="49" y="20" x="10"></rect><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="19" width="29" y="30" x="20"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="39.5" x="34.5" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.5">shell</tspan></text><rect stroke-width="2" style="" stroke="#000000" fill="none" ry="0" rx="0" height="39" width="49" y="596" x="10"></rect><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="19" width="29" y="606" x="20"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="615.5" x="34.5" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.5">shell</tspan></text><path stroke-width="2" d="M34.5,59L34.5,596" stroke="#000000" fill="none" style=""></path><rect stroke-width="2" style="" stroke="#000000" fill="none" ry="0" rx="0" height="39" width="52" y="20" x="126.5"></rect><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="19" width="32" y="30" x="136.5"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="39.5" x="152.5" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.5">main</tspan></text><rect stroke-width="2" style="" stroke="#000000" fill="none" ry="0" rx="0" height="39" width="52" y="596" x="126.5"></rect><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="19" width="32" y="606" x="136.5"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="615.5" x="152.5" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.5">main</tspan></text><path stroke-width="2" d="M152.5,59L152.5,596" stroke="#000000" fill="none" style=""></path><rect stroke-width="2" style="" stroke="#000000" fill="none" ry="0" rx="0" height="39" width="49" y="20" x="241"></rect><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="19" width="29" y="30" x="251"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="39.5" x="265.5" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.5">tests</tspan></text><rect stroke-width="2" style="" stroke="#000000" fill="none" ry="0" rx="0" height="39" width="49" y="596" x="241"></rect><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="19" width="29" y="606" x="251"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="615.5" x="265.5" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.5">tests</tspan></text><path stroke-width="2" d="M265.5,59L265.5,596" stroke="#000000" fill="none" style=""></path><rect stroke-width="2" style="" stroke="#000000" fill="none" ry="0" rx="0" height="39" width="46" y="20" x="403.5"></rect><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="19" width="26" y="30" x="414"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="39.5" x="426.5" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.5">disk</tspan></text><rect stroke-width="2" style="" stroke="#000000" fill="none" ry="0" rx="0" height="39" width="46" y="596" x="403.5"></rect><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="19" width="26" y="606" x="414"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="615.5" x="426.5" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.5">disk</tspan></text><path stroke-width="2" d="M426.5,59L426.5,596" stroke="#000000" fill="none" style=""></path><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="19" width="98" y="74.5" x="44.5"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="84" x="93.5" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.5">User arguments</tspan></text><path stroke-dasharray="0" marker-end="url(#raphael-marker-endblock55-obj607)" stroke-width="2" d="M34.5,98C34.5,98,125.04552268981934,98,147.50505663827062,98" stroke="#000000" fill="none" style=""></path><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="19" width="92" y="113.5" x="163"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="123" x="209" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.5">Run test case 1</tspan></text><path stroke-dasharray="0" marker-end="url(#raphael-marker-endblock55-obj610)" stroke-width="2" d="M152.5,137C152.5,137,238.62982559204102,137,260.4987266212702,137" stroke="#000000" fill="none" style=""></path><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="19" width="77" y="152.5" x="170.5"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="162" x="209" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.5">test 1 results</tspan></text><path stroke-dasharray="0" marker-end="url(#raphael-marker-endblock55-obj613)" stroke-width="2" d="M265.5,176C265.5,176,179.37017440795898,176,157.50127337872982,176" stroke="#000000" fill="none" style=""></path><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="19" width="86" y="191.5" x="303"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="201" x="346" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.5">write results 1</tspan></text><path stroke-dasharray="0" marker-end="url(#raphael-marker-endblock55-obj616)" stroke-width="2" d="M265.5,215C265.5,215,394.32997131347656,215,421.505043387413,215" stroke="#000000" fill="none" style=""></path><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="19" width="99" y="230.5" x="100.5"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="240" x="150" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.5">display results 1</tspan></text><path stroke-dasharray="6,2" marker-end="url(#raphael-marker-endblock55-obj619)" stroke-width="2" d="M265.5,254C265.5,254,73.16669847071171,254,39.49897942859752,254" stroke="#000000" fill="none" style=""></path><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="19" width="93" y="269.5" x="162.5"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="279" x="209" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.5">Run test case n</tspan></text><path stroke-dasharray="0" marker-end="url(#raphael-marker-endblock55-obj622)" stroke-width="2" d="M152.5,293C152.5,293,238.62982559204102,293,260.4987266212702,293" stroke="#000000" fill="none" style=""></path><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="19" width="78" y="308.5" x="170"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="318" x="209" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.5">test n results</tspan></text><path stroke-dasharray="0" marker-end="url(#raphael-marker-endblock55-obj625)" stroke-width="2" d="M265.5,332C265.5,332,179.37017440795898,332,157.50127337872982,332" stroke="#000000" fill="none" style=""></path><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="19" width="87" y="347.5" x="302.5"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="357" x="346" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.5">write results n</tspan></text><path stroke-dasharray="0" marker-end="url(#raphael-marker-endblock55-obj628)" stroke-width="2" d="M265.5,371C265.5,371,394.32997131347656,371,421.505043387413,371" stroke="#000000" fill="none" style=""></path><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="19" width="100" y="386.5" x="100"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="396" x="150" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.5">display results n</tspan></text><path stroke-dasharray="6,2" marker-end="url(#raphael-marker-endblock55-obj631)" stroke-width="2" d="M265.5,410C265.5,410,73.16669847071171,410,39.49897942859752,410" stroke="#000000" fill="none" style=""></path><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="19" width="106" y="425.5" x="97"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="435" x="150" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.5">display summary</tspan></text><path stroke-dasharray="6,2" marker-end="url(#raphael-marker-endblock55-obj634)" stroke-width="2" d="M265.5,449C265.5,449,73.16669847071171,449,39.49897942859752,449" stroke="#000000" fill="none" style=""></path><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="19" width="116" y="464.5" x="231.5"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="474" x="289.5" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.5">write summary log</tspan></text><path stroke-dasharray="6,2" marker-end="url(#raphael-marker-endblock55-obj637)" stroke-width="2" d="M152.5,488C152.5,488,384.3126805126667,488,421.49552501872677,488" stroke="#000000" fill="none" style=""></path><rect stroke-width="2" style="" stroke="#000000" fill="none" ry="0" rx="0" height="29" width="130" y="508" x="87.5"></rect><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="19" width="120" y="513" x="92.5"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="522.5" x="152.5" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.5">If save option given</tspan></text><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="19" width="254" y="552.5" x="163"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="562" x="289.5" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.5">save test files to PROCESS revision folder</tspan></text><path stroke-dasharray="6,2" marker-end="url(#raphael-marker-endblock55-obj643)" stroke-width="2" d="M152.5,576C152.5,576,384.3126805126667,576,421.49552501872677,576" stroke="#000000" fill="none" style=""></path></svg></div>



<h2 id="folder-structure">Folder Structure</h2>

<p>The PROCESS folder structure is shown below. The test suite folder (<strong>test_suite</strong>) is in the main directory with the FORTRAN etc. Inside the test suite folder there is the main code (<strong>test_suite.py</strong>) as well as the folders containing the reference cases (<strong>test_files</strong>). The diagram below shows the folder structure for the test_suite (<strong>folders</strong> are in bold).</p>

<table>
<thead>
<tr>
  <th align="left">PROCESS Repo</th>
  <th align="left"></th>
  <th align="left"></th>
  <th align="left"></th>
  <th align="left"></th>
  <th align="left"></th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><strong>test_suite</strong></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
</tr>
<tr>
  <td align="left"></td>
  <td align="left"><strong>test_area</strong></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
</tr>
<tr>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left">summary.log</td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
</tr>
<tr>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"><strong>DEMO 1 (A=3.1)</strong></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
</tr>
<tr>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left">new.MFILE.DAT</td>
  <td align="left">new.OUT.DAT</td>
  <td align="left"></td>
</tr>
<tr>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left">ref.IN.DAT</td>
  <td align="left">ref.MFILE.DAT</td>
  <td align="left">ref.OUT.DAT</td>
</tr>
<tr>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left">run.log</td>
  <td align="left">error.log</td>
  <td align="left">diff.log</td>
</tr>
<tr>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"><strong>Cost paper</strong></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
</tr>
<tr>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left">…</td>
  <td align="left">…</td>
  <td align="left">…</td>
</tr>
<tr>
  <td align="left"></td>
  <td align="left"><strong>test_files</strong></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
</tr>
<tr>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"><strong>DEMO 1 (A=3.1)</strong></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
</tr>
<tr>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left">ref.IN.DAT</td>
  <td align="left">ref.MFILE.DAT</td>
  <td align="left">ref.OUT.DAT</td>
</tr>
<tr>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"><strong>Cost paper</strong></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
</tr>
<tr>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left">…</td>
  <td align="left">…</td>
  <td align="left">…</td>
</tr>
<tr>
  <td align="left"></td>
  <td align="left">test_suite.py</td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
</tr>
<tr>
  <td align="left"><strong>utilities</strong></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
</tr>
<tr>
  <td align="left">FORTRAN files</td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
</tr>
<tr>
  <td align="left">…</td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
  <td align="left"></td>
</tr>
</tbody></table>




<h2 id="running-the-test-suite">Running the Test Suite</h2>

<p>To run the test suite the user should go to the folder <strong>/process/test_suite/</strong> and then run the Python file <strong>test_suite.py</strong>. The test suite Python script has the following optional arguments</p>



<pre class="prettyprint"><code class=" hljs sql"> python test_suite.py [options]

 -h - -help         <span class="hljs-operator"><span class="hljs-keyword">show</span> <span class="hljs-keyword">usage</span>

 -s --save          save test <span class="hljs-keyword">output</span> <span class="hljs-keyword">to</span> folder <span class="hljs-keyword">with</span> PROCESS revision 
                    <span class="hljs-keyword">number</span> <span class="hljs-keyword">in</span> it(e.g. test_r383)

 -d --diff [val]    <span class="hljs-keyword">set</span> allowed difference between reference <span class="hljs-keyword">case</span> <span class="hljs-keyword">and</span>
                    new <span class="hljs-keyword">output</span> <span class="hljs-keyword">in</span> percentage terms.

 Examples

    python test_suite.py -d <span class="hljs-number">10</span> --save

    python test_suite.py -d <span class="hljs-number">1</span>
</span></code></pre>



<h2 id="adding-a-reference-case">Adding a reference case</h2>

<p>To add a reference case do the following:</p>

<ul>
<li>Have an IN.DAT that works with the current version of PROCESS</li>
<li><strong>Run PROCESS</strong> to create an OUT.DAT and MFILE.DAT</li>
<li>Create a folder in the location <strong>/process/test_suite/test_files/[test_name]</strong> with the name of the test case</li>
<li>Rename your IN.DAT, OUT.DAT and MFILE.DAT to <strong>ref.IN.DAT</strong>, <strong>ref.MFILE.DAT</strong> and <strong>ref.OUT.DAT</strong></li>
<li>Copy reference files to the folder you created</li>
<li>Run test suite to check it works</li>
<li>Push to GitLab (see instructions in PROCESS manual)</li>
</ul>



<h2 id="test-suite-output-formatting">Test Suite Output Formatting</h2>



<h3 id="summarylog">summary.log</h3>

<p>The summary.log file mirrors what was displayed to the terminal during a test suite run. It will look something like the following.</p>



<pre class="prettyprint"><code class="language-python hljs ">PROCESS Test Suite

Date: <span class="hljs-number">2015</span>-<span class="hljs-number">12</span>-<span class="hljs-number">03</span>
Diff set to: <span class="hljs-number">5.0</span>%

PROCESS Test Cases

Test ==&gt;  DEMO1_a31_06_2015             DIFF(<span class="hljs-number">6</span>)
Test ==&gt;  costs_paper                   OK
Test ==&gt;  test <span class="hljs-number">3</span>                        ERROR
Test ==&gt;  test <span class="hljs-number">4</span>                        NO SOL

PROCESS version r[version] test run complete
</code></pre>

<h3 id="difflog">diff.log</h3>

<p>This file will contain the differences between the reference case and the new run for a given test. The file will look like the example below.</p>



<pre class="prettyprint"><code class="language-python hljs ">
PROCESS Test Suite

Test Case: [test_name]
Difference value: [diff]

Differences above allowed value:

    var | ref | new | %
    a     <span class="hljs-number">10</span>    <span class="hljs-number">15</span>    <span class="hljs-number">50</span>
    b     <span class="hljs-number">10</span>    <span class="hljs-number">9</span>     <span class="hljs-number">10</span>
    ...   ...   ...   ...

Variables <span class="hljs-keyword">in</span> ref NOT IN new:

    var <span class="hljs-number">1</span>
    var <span class="hljs-number">2</span>
    ...

Variables <span class="hljs-keyword">in</span> new NOT IN ref:

    var <span class="hljs-number">1</span>
    var <span class="hljs-number">2</span>
    ...
</code></pre>

<h3 id="runlog">run.log</h3>

<p>Run.log will take the output to the terminal for each PROCESS test case and dump it to a file in the test folder in <strong>/process/test_suite/test_area/[test_name]/</strong>. If there is an error while running PROCESS this will be highlighted in <strong>summary.log</strong> and then the user can inspect the output in run.log</p>



<h3 id="newmfiledat">new.MFILE.DAT</h3>

<p>This is the MFILE.DAT the test suite created when running a given test case. After running the test suite will move this file to the folder <strong>/process/test_suite/test_area/[test_name]/</strong>.</p>



<h3 id="newoutdat">new.OUT.DAT</h3>

<p>This is the OUT.DAT the test suite created when running a given test case. After running the test suite will move this file to the folder <strong>/process/test_suite/test_area/[test_name]/</strong>.</p><div class="footnotes"><hr><ol><li id="fn:myemail"><a href="mailto:james.morris2@ccfe.ac.uk">email</a> <a href="#fnref:myemail" title="Return to article" class="reversefootnote">↩</a></li></ol></div></div></body>
</html>